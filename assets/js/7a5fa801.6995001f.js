"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7240],{4933:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"incentivized-testnet/phase 1 period 8 upgrade","title":"Phase 1 upgrade (Period 8)","description":"Period 8 sees the introduction of more feeds. This requires that upgrade of the","source":"@site/docs/incentivized-testnet/phase-1-period-8.md","sourceDirName":"incentivized-testnet","slug":"/phase-1-upgrade-period-8","permalink":"/phase-1-upgrade-period-8","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"phase 1 period 8 upgrade","sidebar_position":3,"slug":"/phase-1-upgrade-period-8"},"sidebar":"tutorialSidebar","previous":{"title":"Phase 1 manual","permalink":"/phase-1-manual"},"next":{"title":"Phase 2 manual","permalink":"/phase-2-manual"}}');var s=o(4848),i=o(8453);const t={id:"phase 1 period 8 upgrade",sidebar_position:3,slug:"/phase-1-upgrade-period-8"},d="Phase 1 upgrade (Period 8)",a={},c=[{value:"Upgrades required for period 8",id:"upgrades-required-for-period-8",level:2},{value:"Upgrading Gofer",id:"upgrading-gofer",level:3},{value:"Upgrading cer-feeds.json",id:"upgrading-cer-feedsjson",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Feedback",id:"feedback",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"phase-1-upgrade-period-8",children:"Phase 1 upgrade (Period 8)"})}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsx)(n.p,{children:"Period 8 sees the introduction of more feeds. This requires that upgrade of the\ncex collector software and the feed runner file. Details are provided below."})}),"\n",(0,s.jsx)(n.h2,{id:"upgrades-required-for-period-8",children:"Upgrades required for period 8"}),"\n",(0,s.jsx)(n.p,{children:"Period 8 requires the upgrade of two components:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"gofer (cex collector)."}),"\n",(0,s.jsx)(n.li,{children:"cer-feeds.json (collector runner)."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"ITN participants will need to upgrade these components so as to collect enough\ninformation to be able to claim rewards."}),"\n",(0,s.jsx)(n.h3,{id:"upgrading-gofer",children:"Upgrading Gofer"}),"\n",(0,s.jsx)(n.p,{children:"To upgrade gofer:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Download the latest version of gofer via ",(0,s.jsx)(n.a,{href:"https://github.com/orcfax/oracle-suite/releases",children:"GitHub"})," (should be 0.5.1)."]}),"\n",(0,s.jsx)(n.li,{children:"Ensure it is placed in the correct directory."}),"\n",(0,s.jsx)(n.li,{children:"Ensure it has executable permissions."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"E.g. given the following crontab:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cron",children:"ORCFAX_VALIDATOR=wss://itn.0.orcfax.io/ws/node\nNODE_IDENTITY_LOC=/tmp/.node-identity.json\nNODE_SIGNING_KEY=/home/orcfax/signing-key/payment.skey\nGOFER=/home/orcfax/gofer/gofer\nCNT_DB_NAME=/var/tmp/notused.db\nOGMIOS_URL=ws://example.com/ogmios\n\n* * * * * /home/orcfax/collector/venv/bin/collector-node --feeds /home/orcfax/collector/cer-feeds.json 2>&1 | logger -t orcfax_collector\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Gofer needs to be in: ",(0,s.jsx)(n.code,{children:"/home/orcfax/gofer/gofer"})," and executable permissions are\nprovided with the command;"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"sudo chmod +x /home/orcfax/gofer/gofer\n"})}),"\n",(0,s.jsx)(n.p,{children:"The new Gofer will be picked up and run the next time the cron task ticks over."}),"\n",(0,s.jsx)(n.h3,{id:"upgrading-cer-feedsjson",children:"Upgrading cer-feeds.json"}),"\n",(0,s.jsx)(n.p,{children:"To upgrade cer-feeds.json:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["download the updated feeds list: ",(0,s.jsx)(n.a,{href:"https://raw.githubusercontent.com/orcfax/cer-feeds/refs/heads/main/feeds/itn/cer-feeds.json",children:"cer-feeds.json"})]}),"\n",(0,s.jsx)(n.li,{children:"place the cer-feeds.json file in the same folder as the collector runner, or\nwherever your crontab task is pointing, e.g. in the following scenario:"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cron",children:"ORCFAX_VALIDATOR=wss://itn.0.orcfax.io/ws/node\nNODE_IDENTITY_LOC=/tmp/.node-identity.json\nNODE_SIGNING_KEY=/home/orcfax/signing-key/payment.skey\nGOFER=/home/orcfax/gofer/gofer\nCNT_DB_NAME=/var/tmp/notused.db\nOGMIOS_URL=ws://example.com/ogmios\n\n* * * * * /home/orcfax/collector/venv/bin/collector-node --feeds /home/orcfax/collector/cer-feeds.json 2>&1 | logger -t orcfax_collector\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The file needs to be in: ",(0,s.jsx)(n.code,{children:"/home/orcfax/collector/cer-feeds.json"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"The file will automatically be picked up in your configuration and feeds should\nstart being collected the next time the cron task ticks over."}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsxs)(n.p,{children:["Ensure everything looks okay in the system logs. You can learn more about how to\nmonitor those via the monitoring section of the\n",(0,s.jsx)(n.a,{href:"phase-1-manual#monitoring-logs",children:"phase 1 manual"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"feedback",children:"Feedback"}),"\n",(0,s.jsxs)(n.p,{children:["Validators can provide feedback via the Discord channels as per usual, or the\n",(0,s.jsx)(n.a,{href:"https://github.com/orcfax/ITN-Phase-1/issues",children:"GitHub Issues"})," repisotory as described in the\n",(0,s.jsx)(n.a,{href:"phase-1-manual",children:"phase 1 manual"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>t,x:()=>d});var r=o(6540);const s={},i=r.createContext(s);function t(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);